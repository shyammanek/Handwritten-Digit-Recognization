{"id":"node_modules/@tensorflow/tfjs-core/dist/kernels/webgl/mulmat_gpu.js","dependencies":[{"name":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-core\\dist\\kernels\\webgl\\mulmat_gpu.js.map","includedInParent":true,"mtime":499162500000},{"name":"E:\\htr-final\\package.json","includedInParent":true,"mtime":1603094551417},{"name":"E:\\htr-final\\.babelrc","includedInParent":true,"mtime":1603022514142},{"name":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-core\\package.json","includedInParent":true,"mtime":1603088140582}],"generated":{"js":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MatMulProgram = (function () {\n    function MatMulProgram(aShape, bShape, transposeA, transposeB) {\n        if (transposeA === void 0) { transposeA = false; }\n        if (transposeB === void 0) { transposeB = false; }\n        this.variableNames = ['matrixA', 'matrixB'];\n        var batchSize = aShape[0];\n        var outerShapeA = transposeA ? aShape[2] : aShape[1];\n        var outerShapeB = transposeB ? bShape[1] : bShape[2];\n        var sharedDim = transposeA ? aShape[1] : aShape[2];\n        this.outputShape = [batchSize, outerShapeA, outerShapeB];\n        var aSnippetFromOffset = function (vec4Offset, indexVar) {\n            return transposeA ? \"batch, \" + indexVar + \" + \" + vec4Offset + \", aRow\" :\n                \"batch, aRow, \" + indexVar + \" + \" + vec4Offset;\n        };\n        var bSnippetFromOffset = function (vec4Offset, indexVar) {\n            return transposeB ? \"batch, bCol, \" + indexVar + \" + \" + vec4Offset :\n                \"batch, \" + indexVar + \" + \" + vec4Offset + \", bCol\";\n        };\n        var sharedDimNearestVec4 = Math.floor(sharedDim / 4) * 4;\n        var sharedDimVec4Remainder = sharedDim % 4;\n        this.userCode = \" float dotARowBCol(int batch, int aRow, int bCol) {\\n      float result = 0.0;\\n      for (int i = 0; i < \" + sharedDimNearestVec4 + \"; i += 4) {\\n        vec4 a = vec4(\\n          getMatrixA(\" + aSnippetFromOffset(0, 'i') + \"),\\n          getMatrixA(\" + aSnippetFromOffset(1, 'i') + \"),\\n          getMatrixA(\" + aSnippetFromOffset(2, 'i') + \"),\\n          getMatrixA(\" + aSnippetFromOffset(3, 'i') + \")\\n        );\\n        vec4 b = vec4(\\n          getMatrixB(\" + bSnippetFromOffset(0, 'i') + \"),\\n          getMatrixB(\" + bSnippetFromOffset(1, 'i') + \"),\\n          getMatrixB(\" + bSnippetFromOffset(2, 'i') + \"),\\n          getMatrixB(\" + bSnippetFromOffset(3, 'i') + \")\\n        );\\n\\n        result += dot(a, b);\\n      }\\n\\n      if (\" + (sharedDimVec4Remainder === 1) + \") {\\n        result += getMatrixA(\" + aSnippetFromOffset(0, sharedDimNearestVec4) + \") *\\n          getMatrixB(\" + bSnippetFromOffset(0, sharedDimNearestVec4) + \");\\n      } else if (\" + (sharedDimVec4Remainder === 2) + \") {\\n        vec2 a = vec2(\\n          getMatrixA(\" + aSnippetFromOffset(0, sharedDimNearestVec4) + \"),\\n          getMatrixA(\" + aSnippetFromOffset(1, sharedDimNearestVec4) + \")\\n        );\\n        vec2 b = vec2(\\n          getMatrixB(\" + bSnippetFromOffset(0, sharedDimNearestVec4) + \"),\\n          getMatrixB(\" + bSnippetFromOffset(1, sharedDimNearestVec4) + \")\\n        );\\n        result += dot(a, b);\\n      } else if (\" + (sharedDimVec4Remainder === 3) + \") {\\n        vec3 a = vec3(\\n          getMatrixA(\" + aSnippetFromOffset(0, sharedDimNearestVec4) + \"),\\n          getMatrixA(\" + aSnippetFromOffset(1, sharedDimNearestVec4) + \"),\\n          getMatrixA(\" + aSnippetFromOffset(2, sharedDimNearestVec4) + \")\\n        );\\n        vec3 b = vec3(\\n          getMatrixB(\" + bSnippetFromOffset(0, sharedDimNearestVec4) + \"),\\n          getMatrixB(\" + bSnippetFromOffset(1, sharedDimNearestVec4) + \"),\\n          getMatrixB(\" + bSnippetFromOffset(2, sharedDimNearestVec4) + \")\\n        );\\n        result += dot(a, b);\\n      }\\n\\n      return result;\\n    }\\n\\n    void main() {\\n      ivec3 resBRC = getOutputCoords();\\n      setOutput(dotARowBCol(resBRC.x, resBRC.y, resBRC.z));\\n    }\\n    \";\n    }\n    return MatMulProgram;\n}());\nexports.MatMulProgram = MatMulProgram;\n"},"sourceMaps":{"js":{"version":3,"file":"mulmat_gpu.js","sourceRoot":"","sources":["../../../src/kernels/webgl/mulmat_gpu.ts"],"names":[],"mappings":";;AAmBA;IAKE,uBACI,MAAgC,EAAE,MAAgC,EAClE,UAAkB,EAAE,UAAkB;QAAtC,2BAAA,EAAA,kBAAkB;QAAE,2BAAA,EAAA,kBAAkB;QAN1C,kBAAa,GAAG,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;QAOrC,IAAM,SAAS,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;QAC5B,IAAM,WAAW,GAAG,UAAU,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QACvD,IAAM,WAAW,GAAG,UAAU,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QACvD,IAAM,SAAS,GAAG,UAAU,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QACrD,IAAI,CAAC,WAAW,GAAG,CAAC,SAAS,EAAE,WAAW,EAAE,WAAW,CAAC,CAAC;QAEzD,IAAM,kBAAkB,GAAG,UAAC,UAAkB,EAAE,QAAuB;YACnE,OAAA,UAAU,CAAC,CAAC,CAAC,YAAU,QAAQ,WAAM,UAAU,WAAQ,CAAC,CAAC;gBAC5C,kBAAgB,QAAQ,WAAM,UAAY;QADvD,CACuD,CAAC;QAC5D,IAAM,kBAAkB,GAAG,UAAC,UAAkB,EAAE,QAAuB;YACnE,OAAA,UAAU,CAAC,CAAC,CAAC,kBAAgB,QAAQ,WAAM,UAAY,CAAC,CAAC;gBAC5C,YAAU,QAAQ,WAAM,UAAU,WAAQ;QADvD,CACuD,CAAC;QAE5D,IAAM,oBAAoB,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;QAC3D,IAAM,sBAAsB,GAAG,SAAS,GAAG,CAAC,CAAC;QAE7C,IAAI,CAAC,QAAQ,GAAG,+GAEQ,oBAAoB,kEAEzB,kBAAkB,CAAC,CAAC,EAAE,GAAG,CAAC,iCAC1B,kBAAkB,CAAC,CAAC,EAAE,GAAG,CAAC,iCAC1B,kBAAkB,CAAC,CAAC,EAAE,GAAG,CAAC,iCAC1B,kBAAkB,CAAC,CAAC,EAAE,GAAG,CAAC,oEAG1B,kBAAkB,CAAC,CAAC,EAAE,GAAG,CAAC,iCAC1B,kBAAkB,CAAC,CAAC,EAAE,GAAG,CAAC,iCAC1B,kBAAkB,CAAC,CAAC,EAAE,GAAG,CAAC,iCAC1B,kBAAkB,CAAC,CAAC,EAAE,GAAG,CAAC,6EAMrC,sBAAsB,KAAK,CAAC,2CACT,kBAAkB,CAAC,CAAC,EAAE,oBAAoB,CAAC,kCACnD,kBAAkB,CAAC,CAAC,EAAE,oBAAoB,CAAC,8BAC/C,sBAAsB,KAAK,CAAC,2DAExB,kBAAkB,CAAC,CAAC,EAAE,oBAAoB,CAAC,iCAC3C,kBAAkB,CAAC,CAAC,EAAE,oBAAoB,CAAC,oEAG3C,kBAAkB,CAAC,CAAC,EAAE,oBAAoB,CAAC,iCAC3C,kBAAkB,CAAC,CAAC,EAAE,oBAAoB,CAAC,uEAG/C,sBAAsB,KAAK,CAAC,2DAExB,kBAAkB,CAAC,CAAC,EAAE,oBAAoB,CAAC,iCAC3C,kBAAkB,CAAC,CAAC,EAAE,oBAAoB,CAAC,iCAC3C,kBAAkB,CAAC,CAAC,EAAE,oBAAoB,CAAC,oEAG3C,kBAAkB,CAAC,CAAC,EAAE,oBAAoB,CAAC,iCAC3C,kBAAkB,CAAC,CAAC,EAAE,oBAAoB,CAAC,iCAC3C,kBAAkB,CAAC,CAAC,EAAE,oBAAoB,CAAC,gOAY7D,CAAC;IACJ,CAAC;IACH,oBAAC;AAAD,CAAC,AA/ED,IA+EC;AA/EY,sCAAa","sourcesContent":[null]}},"error":null,"hash":"5b4d18e24e25cd27907e8ec91ce2e5a5","cacheData":{"env":{}}}