{"id":"node_modules/@tensorflow/tfjs-core/dist/ops/slice.js","dependencies":[{"name":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-core\\dist\\ops\\slice.js.map","includedInParent":true,"mtime":499162500000},{"name":"E:\\htr-final\\package.json","includedInParent":true,"mtime":1603094551417},{"name":"E:\\htr-final\\.babelrc","includedInParent":true,"mtime":1603022514142},{"name":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-core\\package.json","includedInParent":true,"mtime":1603088140582},{"name":"../environment","loc":{"line":3,"column":28},"parent":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-core\\dist\\ops\\slice.js","resolved":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-core\\dist\\environment.js"},{"name":"../tensor_util_env","loc":{"line":4,"column":32},"parent":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-core\\dist\\ops\\slice.js","resolved":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-core\\dist\\tensor_util_env.js"},{"name":"../util","loc":{"line":5,"column":19},"parent":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-core\\dist\\ops\\slice.js","resolved":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-core\\dist\\util.js"},{"name":"./operation","loc":{"line":6,"column":26},"parent":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-core\\dist\\ops\\slice.js","resolved":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-core\\dist\\ops\\operation.js"},{"name":"./slice_util","loc":{"line":7,"column":25},"parent":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-core\\dist\\ops\\slice.js","resolved":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-core\\dist\\ops\\slice_util.js"}],"generated":{"js":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar environment_1 = require(\"../environment\");\nvar tensor_util_env_1 = require(\"../tensor_util_env\");\nvar util = require(\"../util\");\nvar operation_1 = require(\"./operation\");\nvar slice_util = require(\"./slice_util\");\nfunction slice1d_(x, begin, size) {\n    var $x = tensor_util_env_1.convertToTensor(x, 'x', 'slice1d');\n    util.assert($x.rank === 1, \"slice1d expects a rank-1 tensor, but got a rank-\" + $x.rank + \" tensor\");\n    return exports.slice($x, [begin], [size]);\n}\nfunction slice2d_(x, begin, size) {\n    var $x = tensor_util_env_1.convertToTensor(x, 'x', 'slice2d');\n    util.assert($x.rank === 2, \"slice1d expects a rank-2 tensor, but got a rank-\" + $x.rank + \" tensor\");\n    return exports.slice($x, begin, size);\n}\nfunction slice3d_(x, begin, size) {\n    var $x = tensor_util_env_1.convertToTensor(x, 'x', 'slice3d');\n    util.assert($x.rank === 3, \"slice1d expects a rank-3 tensor, but got a rank-\" + $x.rank + \" tensor\");\n    return exports.slice($x, begin, size);\n}\nfunction slice4d_(x, begin, size) {\n    var $x = tensor_util_env_1.convertToTensor(x, 'x', 'slice4d');\n    util.assert($x.rank === 4, \"slice1d expects a rank-4 tensor, but got a rank-\" + $x.rank + \" tensor\");\n    return exports.slice($x, begin, size);\n}\nfunction slice_(x, begin, size) {\n    var $x = tensor_util_env_1.convertToTensor(x, 'x', 'slice');\n    if ($x.rank === 0) {\n        throw new Error('Slicing scalar is not possible');\n    }\n    var begin_;\n    if (typeof begin === 'number') {\n        begin_ = [begin].concat(new Array($x.rank - 1).fill(0));\n    }\n    else if (begin.length < $x.rank) {\n        begin_ = begin.concat(new Array($x.rank - begin.length).fill(0));\n    }\n    else {\n        begin_ = begin.slice();\n    }\n    var size_;\n    if (size == null) {\n        size_ = new Array($x.rank).fill(-1);\n    }\n    else if (typeof size === 'number') {\n        size_ = [size].concat(new Array($x.rank - 1).fill(-1));\n    }\n    else if (size.length < $x.rank) {\n        size_ = size.concat(new Array($x.rank - size.length).fill(-1));\n    }\n    else {\n        size_ = size;\n    }\n    size_ = size_.map(function (d, i) {\n        if (d >= 0) {\n            return d;\n        }\n        else {\n            util.assert(d === -1, 'Bad value in size');\n            return $x.shape[i] - begin_[i];\n        }\n    });\n    slice_util.assertParamsValid($x, begin_, size_);\n    var inputShape = $x.shape;\n    var grad = function (dy) {\n        var paddings = [];\n        for (var i = 0; i < dy.rank; i++) {\n            paddings.push([begin_[i], inputShape[i] - begin_[i] - size_[i]]);\n        }\n        return { $x: function () { return dy.pad(paddings); } };\n    };\n    return environment_1.ENV.engine.runKernel(function (backend) { return backend.slice($x, begin_, size_); }, { $x: $x }, grad);\n}\nexports.slice = operation_1.op({ slice_: slice_ });\nexports.slice1d = operation_1.op({ slice1d_: slice1d_ });\nexports.slice2d = operation_1.op({ slice2d_: slice2d_ });\nexports.slice3d = operation_1.op({ slice3d_: slice3d_ });\nexports.slice4d = operation_1.op({ slice4d_: slice4d_ });\n"},"sourceMaps":{"js":{"version":3,"file":"slice.js","sourceRoot":"","sources":["../../src/ops/slice.ts"],"names":[],"mappings":"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","sourcesContent":[null]}},"error":null,"hash":"87708935f6eff6fabf3b2286c1b8a2d3","cacheData":{"env":{}}}