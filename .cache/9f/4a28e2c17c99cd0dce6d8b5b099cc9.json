{"id":"node_modules/@tensorflow/tfjs-layers/dist/regularizers.js","dependencies":[{"name":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-layers\\dist\\regularizers.js.map","includedInParent":true,"mtime":1536879379000},{"name":"E:\\htr-final\\package.json","includedInParent":true,"mtime":1603094551417},{"name":"E:\\htr-final\\.babelrc","includedInParent":true,"mtime":1603022514142},{"name":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-layers\\package.json","includedInParent":true,"mtime":1603088140582},{"name":"@tensorflow/tfjs-core","loc":{"line":14,"column":26},"parent":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-layers\\dist\\regularizers.js","resolved":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-core\\dist\\tf-core.esm.js"},{"name":"./backend/state","loc":{"line":15,"column":22},"parent":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-layers\\dist\\regularizers.js","resolved":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-layers\\dist\\backend\\state.js"},{"name":"./backend/tfjs_backend","loc":{"line":16,"column":16},"parent":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-layers\\dist\\regularizers.js","resolved":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-layers\\dist\\backend\\tfjs_backend.js"},{"name":"./utils/generic_utils","loc":{"line":17,"column":30},"parent":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-layers\\dist\\regularizers.js","resolved":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-layers\\dist\\utils\\generic_utils.js"}],"generated":{"js":"\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tfc = require(\"@tensorflow/tfjs-core\");\nvar tfjs_core_1 = require(\"@tensorflow/tfjs-core\");\nvar state_1 = require(\"./backend/state\");\nvar K = require(\"./backend/tfjs_backend\");\nvar generic_utils_1 = require(\"./utils/generic_utils\");\nvar Regularizer = (function (_super) {\n    __extends(Regularizer, _super);\n    function Regularizer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return Regularizer;\n}(tfjs_core_1.serialization.Serializable));\nexports.Regularizer = Regularizer;\nvar L1L2 = (function (_super) {\n    __extends(L1L2, _super);\n    function L1L2(config) {\n        var _this = _super.call(this) || this;\n        var l1 = config == null || config.l1 == null ? 0.01 : config.l1;\n        var l2 = config == null || config.l2 == null ? 0.01 : config.l2;\n        _this.hasL1 = l1 !== 0;\n        _this.hasL2 = l2 !== 0;\n        _this.l1 = state_1.getScalar(l1);\n        _this.l2 = state_1.getScalar(l2);\n        return _this;\n    }\n    L1L2.prototype.apply = function (x) {\n        var _this = this;\n        return tfjs_core_1.tidy(function () {\n            var regularization = tfjs_core_1.zeros([1]);\n            if (_this.hasL1) {\n                regularization = tfjs_core_1.add(regularization, tfjs_core_1.sum(tfc.mul(_this.l1, tfjs_core_1.abs(x))));\n            }\n            if (_this.hasL2) {\n                regularization =\n                    tfjs_core_1.add(regularization, tfjs_core_1.sum(tfc.mul(_this.l2, K.square(x))));\n            }\n            return regularization.asScalar();\n        });\n    };\n    L1L2.prototype.getConfig = function () {\n        return { 'l1': this.l1.dataSync()[0], 'l2': this.l2.dataSync()[0] };\n    };\n    L1L2.fromConfig = function (cls, config) {\n        return new cls({ l1: config.l1, l2: config.l2 });\n    };\n    L1L2.className = 'L1L2';\n    return L1L2;\n}(Regularizer));\nexports.L1L2 = L1L2;\ntfjs_core_1.serialization.registerClass(L1L2);\nfunction l1(config) {\n    return new L1L2({ l1: config != null ? config.l1 : null, l2: 0 });\n}\nexports.l1 = l1;\nfunction l2(config) {\n    return new L1L2({ l2: config != null ? config.l2 : null, l1: 0 });\n}\nexports.l2 = l2;\nexports.REGULARIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP = {\n    'l1l2': 'L1L2'\n};\nfunction serializeRegularizer(constraint) {\n    return generic_utils_1.serializeKerasObject(constraint);\n}\nexports.serializeRegularizer = serializeRegularizer;\nfunction deserializeRegularizer(config, customObjects) {\n    if (customObjects === void 0) { customObjects = {}; }\n    return generic_utils_1.deserializeKerasObject(config, tfjs_core_1.serialization.SerializationMap.getMap().classNameMap, customObjects, 'regularizer');\n}\nexports.deserializeRegularizer = deserializeRegularizer;\nfunction getRegularizer(identifier) {\n    if (identifier == null) {\n        return null;\n    }\n    if (typeof identifier === 'string') {\n        var className = identifier in exports.REGULARIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP ?\n            exports.REGULARIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP[identifier] :\n            identifier;\n        var config = { className: className, config: {} };\n        return deserializeRegularizer(config);\n    }\n    else if (identifier instanceof Regularizer) {\n        return identifier;\n    }\n    else {\n        return deserializeRegularizer(identifier);\n    }\n}\nexports.getRegularizer = getRegularizer;\n"},"sourceMaps":{"js":{"version":3,"file":"regularizers.js","sourceRoot":"","sources":["../src/regularizers.ts"],"names":[],"mappings":"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","sourcesContent":[null]}},"error":null,"hash":"887a0fb446dabcd11cbec1192b123288","cacheData":{"env":{}}}