{"id":"node_modules/@tensorflow/tfjs-core/dist/ops/concat_split.js","dependencies":[{"name":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-core\\dist\\ops\\concat_split.js.map","includedInParent":true,"mtime":499162500000},{"name":"E:\\htr-final\\package.json","includedInParent":true,"mtime":1603094551417},{"name":"E:\\htr-final\\.babelrc","includedInParent":true,"mtime":1603022514142},{"name":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-core\\package.json","includedInParent":true,"mtime":1603088140582},{"name":"../environment","loc":{"line":3,"column":28},"parent":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-core\\dist\\ops\\concat_split.js","resolved":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-core\\dist\\environment.js"},{"name":"../tensor_util_env","loc":{"line":4,"column":32},"parent":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-core\\dist\\ops\\concat_split.js","resolved":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-core\\dist\\tensor_util_env.js"},{"name":"../util","loc":{"line":5,"column":21},"parent":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-core\\dist\\ops\\concat_split.js","resolved":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-core\\dist\\util.js"},{"name":"./axis_util","loc":{"line":6,"column":26},"parent":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-core\\dist\\ops\\concat_split.js","resolved":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-core\\dist\\ops\\axis_util.js"},{"name":"./concat_util","loc":{"line":7,"column":28},"parent":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-core\\dist\\ops\\concat_split.js","resolved":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-core\\dist\\ops\\concat_util.js"},{"name":"./operation","loc":{"line":8,"column":26},"parent":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-core\\dist\\ops\\concat_split.js","resolved":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-core\\dist\\ops\\operation.js"},{"name":"./tensor_ops","loc":{"line":9,"column":27},"parent":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-core\\dist\\ops\\concat_split.js","resolved":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-core\\dist\\ops\\tensor_ops.js"}],"generated":{"js":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar environment_1 = require(\"../environment\");\nvar tensor_util_env_1 = require(\"../tensor_util_env\");\nvar util_1 = require(\"../util\");\nvar axis_util_1 = require(\"./axis_util\");\nvar concat_util_1 = require(\"./concat_util\");\nvar operation_1 = require(\"./operation\");\nvar tensor_ops_1 = require(\"./tensor_ops\");\nfunction concat1d_(tensors) {\n    return exports.concat(tensors, 0);\n}\nfunction concat2d_(tensors, axis) {\n    return exports.concat(tensors, axis);\n}\nfunction concat3d_(tensors, axis) {\n    return exports.concat(tensors, axis);\n}\nfunction concat4d_(tensors, axis) {\n    return exports.concat(tensors, axis);\n}\nfunction concat_(tensors, axis) {\n    if (axis === void 0) { axis = 0; }\n    util_1.assert(tensors.length >= 1, 'Pass at least one tensor to concat');\n    var $tensors = tensor_util_env_1.convertToTensorArray(tensors, 'tensors', 'concat');\n    axis = axis_util_1.parseAxisParam(axis, $tensors[0].shape)[0];\n    var outShape = concat_util_1.computeOutShape($tensors.map(function (t) { return t.shape; }), axis);\n    if (util_1.sizeFromShape(outShape) === 0) {\n        return tensor_ops_1.tensor([], outShape);\n    }\n    $tensors = $tensors.filter(function (t) { return t.size > 0; });\n    if ($tensors.length === 1) {\n        return $tensors[0];\n    }\n    var shapes = $tensors.map(function (t) { return t.shape; });\n    concat_util_1.assertParamsConsistent(shapes, axis);\n    var der = function (dy) {\n        var sizeSplits = shapes.map(function (s) { return s[axis]; });\n        var derTensors = exports.split(dy, sizeSplits, axis);\n        return derTensors.map(function (t) { return function () { return t; }; });\n    };\n    var inputs = $tensors;\n    return environment_1.ENV.engine.runKernel(function (backend) { return backend.concat($tensors, axis); }, inputs, der);\n}\nfunction split_(x, numOrSizeSplits, axis) {\n    if (axis === void 0) { axis = 0; }\n    var $x = tensor_util_env_1.convertToTensor(x, 'x', 'split');\n    axis = axis_util_1.parseAxisParam(axis, $x.shape)[0];\n    var splitSizes;\n    if (typeof (numOrSizeSplits) === 'number') {\n        util_1.assert($x.shape[axis] % numOrSizeSplits === 0, 'Number of splits must evenly divide the axis.');\n        splitSizes = Array(numOrSizeSplits).fill($x.shape[axis] / numOrSizeSplits);\n    }\n    else {\n        util_1.assert($x.shape[axis] === numOrSizeSplits.reduce(function (a, b) { return a + b; }), 'The sum of sizes must match the size of the axis dimension.');\n        splitSizes = numOrSizeSplits;\n    }\n    var der = function (dy) { return ({ $x: function () { return exports.concat(dy, axis); } }); };\n    return environment_1.ENV.engine.runKernel(function (backend) { return backend.split($x, splitSizes, axis); }, { $x: $x }, der);\n}\nexports.concat = operation_1.op({ concat_: concat_ });\nexports.concat1d = operation_1.op({ concat1d_: concat1d_ });\nexports.concat2d = operation_1.op({ concat2d_: concat2d_ });\nexports.concat3d = operation_1.op({ concat3d_: concat3d_ });\nexports.concat4d = operation_1.op({ concat4d_: concat4d_ });\nexports.split = operation_1.op({ split_: split_ });\n"},"sourceMaps":{"js":{"version":3,"file":"concat_split.js","sourceRoot":"","sources":["../../src/ops/concat_split.ts"],"names":[],"mappings":"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","sourcesContent":[null]}},"error":null,"hash":"78f372db3899e28ca8d49e0c70cf801e","cacheData":{"env":{}}}