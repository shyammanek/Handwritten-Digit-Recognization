{"id":"node_modules/@tensorflow/tfjs-core/dist/ops/lrn.js","dependencies":[{"name":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-core\\dist\\ops\\lrn.js.map","includedInParent":true,"mtime":499162500000},{"name":"E:\\htr-final\\package.json","includedInParent":true,"mtime":1603094551417},{"name":"E:\\htr-final\\.babelrc","includedInParent":true,"mtime":1603022514142},{"name":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-core\\package.json","includedInParent":true,"mtime":1603088140582},{"name":"../environment","loc":{"line":3,"column":28},"parent":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-core\\dist\\ops\\lrn.js","resolved":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-core\\dist\\environment.js"},{"name":"../tensor_util_env","loc":{"line":4,"column":32},"parent":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-core\\dist\\ops\\lrn.js","resolved":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-core\\dist\\tensor_util_env.js"},{"name":"../util","loc":{"line":5,"column":19},"parent":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-core\\dist\\ops\\lrn.js","resolved":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-core\\dist\\util.js"},{"name":"./operation","loc":{"line":6,"column":26},"parent":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-core\\dist\\ops\\lrn.js","resolved":"E:\\htr-final\\node_modules\\@tensorflow\\tfjs-core\\dist\\ops\\operation.js"}],"generated":{"js":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar environment_1 = require(\"../environment\");\nvar tensor_util_env_1 = require(\"../tensor_util_env\");\nvar util = require(\"../util\");\nvar operation_1 = require(\"./operation\");\nfunction localResponseNormalization_(x, depthRadius, bias, alpha, beta) {\n    if (depthRadius === void 0) { depthRadius = 5; }\n    if (bias === void 0) { bias = 1; }\n    if (alpha === void 0) { alpha = 1; }\n    if (beta === void 0) { beta = 0.5; }\n    var $x = tensor_util_env_1.convertToTensor(x, 'x', 'localResponseNormalization');\n    util.assert($x.rank === 4 || $x.rank === 3, \"Error in localResponseNormalization: x must be rank 3 or 4 but got\\n               rank \" + $x.rank + \".\");\n    util.assert(util.isInt(depthRadius), \"Error in localResponseNormalization: depthRadius must be an integer\\n                     but got depthRadius \" + depthRadius + \".\");\n    var x4D = $x;\n    var reshapedTo4D = false;\n    if ($x.rank === 3) {\n        reshapedTo4D = true;\n        x4D = $x.as4D(1, $x.shape[0], $x.shape[1], $x.shape[2]);\n    }\n    var backward = function (dy, saved) {\n        var outputImage = saved[0];\n        return {\n            x4D: function () { return environment_1.ENV.engine.runKernel(function (backend) { return backend.LRNGrad(dy, x4D, outputImage, depthRadius, bias, alpha, beta); }, {}); }\n        };\n    };\n    var res = environment_1.ENV.engine.runKernel(function (backend, save) { return save(backend.localResponseNormalization4D(x4D, depthRadius, bias, alpha, beta)); }, { x4D: x4D }, backward);\n    if (reshapedTo4D) {\n        return res.as3D(res.shape[1], res.shape[2], res.shape[3]);\n    }\n    else {\n        return res;\n    }\n}\nexports.localResponseNormalization = operation_1.op({ localResponseNormalization_: localResponseNormalization_ });\n"},"sourceMaps":{"js":{"version":3,"file":"lrn.js","sourceRoot":"","sources":["../../src/ops/lrn.ts"],"names":[],"mappings":";;AAiBA,8CAAmC;AAEnC,sDAAmD;AAEnD,8BAAgC;AAChC,yCAA+B;AAgB/B,qCACI,CAAe,EAAE,WAAe,EAAE,IAAQ,EAAE,KAAS,EAAE,IAAU;IAAhD,4BAAA,EAAA,eAAe;IAAE,qBAAA,EAAA,QAAQ;IAAE,sBAAA,EAAA,SAAS;IAAE,qBAAA,EAAA,UAAU;IACnE,IAAM,EAAE,GAAG,iCAAe,CAAC,CAAC,EAAE,GAAG,EAAE,4BAA4B,CAAC,CAAC;IACjE,IAAI,CAAC,MAAM,CACP,EAAE,CAAC,IAAI,KAAK,CAAC,IAAI,EAAE,CAAC,IAAI,KAAK,CAAC,EAC9B,6FACgB,EAAE,CAAC,IAAI,MAAG,CAAC,CAAC;IAChC,IAAI,CAAC,MAAM,CACP,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,EACvB,mHACqC,WAAW,MAAG,CAAC,CAAC;IAEzD,IAAI,GAAG,GAAG,EAAc,CAAC;IACzB,IAAI,YAAY,GAAG,KAAK,CAAC;IACzB,IAAI,EAAE,CAAC,IAAI,KAAK,CAAC,EAAE;QACjB,YAAY,GAAG,IAAI,CAAC;QACpB,GAAG,GAAG,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;KACzD;IACD,IAAM,QAAQ,GAAG,UAAC,EAAY,EAAE,KAAe;QACtC,IAAA,sBAAW,CAAU;QAC5B,OAAO;YACL,GAAG,EAAE,cAAM,OAAA,iBAAG,CAAC,MAAM,CAAC,SAAS,CAC3B,UAAA,OAAO,IAAI,OAAA,OAAO,CAAC,OAAO,CACtB,EAAE,EAAE,GAAG,EAAE,WAAuB,EAAE,WAAW,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,EAD1D,CAC0D,EACrE,EAAE,CAAC,EAHI,CAGJ;SACR,CAAC;IACJ,CAAC,CAAC;IACF,IAAM,GAAG,GAAG,iBAAG,CAAC,MAAM,CAAC,SAAS,CAC5B,UAAC,OAAO,EAAE,IAAI,IAAK,OAAA,IAAI,CAAC,OAAO,CAAC,4BAA4B,CACxD,GAAG,EAAE,WAAW,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC,EADtB,CACsB,EACzC,EAAC,GAAG,KAAA,EAAC,EAAE,QAAQ,CAAC,CAAC;IACrB,IAAI,YAAY,EAAE;QAChB,OAAO,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAM,CAAC;KAChE;SAAM;QACL,OAAO,GAAQ,CAAC;KACjB;AACH,CAAC;AAEY,QAAA,0BAA0B,GAAG,cAAE,CAAC,EAAC,2BAA2B,6BAAA,EAAC,CAAC,CAAC","sourcesContent":[null]}},"error":null,"hash":"3200bc0f76767a02b73e4ba83818096a","cacheData":{"env":{}}}